import React, { createContext, useContext, useState, useEffect } from 'react';

type Language = 'en' | 'uk';

interface Translation {
  [key: string]: string | Translation;
}

interface LanguageContextType {
  language: Language;
  setLanguage: (lang: Language) => void;
  t: (key: string) => string;
}

const LanguageContext = createContext<LanguageContextType | undefined>(undefined);

export const useLanguage = () => {
  const context = useContext(LanguageContext);
  if (context === undefined) {
    throw new Error('useLanguage must be used within a LanguageProvider');
  }
  return context;
};

const translations: Record<Language, Translation> = {
  en: {
    common: {
      loading: 'Loading...',
      save: 'Save',
      cancel: 'Cancel',
      edit: 'Edit',
      delete: 'Delete',
      confirm: 'Confirm',
      back: 'Back',
      next: 'Next',
      close: 'Close',
      submit: 'Submit',
    },
    auth: {
      signIn: 'Sign In',
      signUp: 'Sign Up',
      signOut: 'Sign Out',
      email: 'Email',
      password: 'Password',
      confirmPassword: 'Confirm Password',
      username: 'Username',
      forgotPassword: 'Forgot Password?',
      resetPassword: 'Reset Password',
      createAccount: 'Create Account',
      alreadyHaveAccount: 'Already have an account?',
      dontHaveAccount: "Don't have an account?",
    },
    dashboard: {
      hello: 'Hello',
      todaysActivity: "Today's Activity",
      dailyGoal: 'Daily Goal',
      steps: 'Steps',
      water: 'Water',
      sleep: 'Sleep',
      weight: 'Weight',
      calories: 'Calories',
      liters: 'liters',
      hours: 'hours',
      current: 'Current',
      goal: 'Goal',
      trackWeight: 'Track Weight',
      todaysTips: "Today's Tips",
    },
    profile: {
      yourProfile: 'Your Profile',
      manageInfo: 'Manage your personal information',
      editProfile: 'Edit Profile',
      saveChanges: 'Save Changes',
      name: 'Name',
      height: 'Height',
      age: 'Age',
      gender: 'Gender',
      healthGoals: 'Health Goals',
      goalWeight: 'Goal Weight',
      goalSleep: 'Goal Sleep',
      goalSteps: 'Goal Steps',
      goalWater: 'Goal Water',
      notSet: 'Not set',
      targetWeight: 'Target Weight',
      targetSleep: 'Target Sleep',
      dailyStepsTarget: 'Daily Steps Target',
      dailyWaterTarget: 'Daily Water Target',
      resetStatistics: 'Reset All Statistics',
    },
    navigation: {
      home: 'Home',
      activity: 'Activity',
      water: 'Water',
      sleep: 'Sleep',
      weight: 'Weight',
      profile: 'Profile',
    },
    settings: {
      settings: 'Settings',
      language: 'Language',
      theme: 'Theme',
      light: 'Light',
      dark: 'Dark',
      system: 'System',
      contactDeveloper: 'Contact Developer',
      feedback: 'Feedback',
    },
    feedback: {
      description: 'Share your thoughts and suggestions',
      subject: 'Subject',
      message: 'Message',
      sent: 'Feedback sent successfully!',
      error: 'Failed to send feedback. Please try again.',
    },
    water: {
      trackHydration: 'Track your daily hydration',
      todaysLog: "Today's Log",
      noWaterLogged: 'No water logged today yet',
      weeklyOverview: 'Weekly Overview',
    },
    activity: {
      description: 'Monitor your daily movement and exercise',
      startWorkout: 'Start Workout',
      recentActivity: 'Recent Activity',
      quickStart: 'Quick Start',
      walking: 'Walking',
      running: 'Running',
      cycling: 'Cycling',
      hiking: 'Hiking',
      swimming: 'Swimming',
      gym: 'Gym',
      startTracking: 'Start Tracking',
      stopTracking: 'Stop Tracking',
      todaysProgress: "Today's Progress",
      goal: 'Goal',
      stepsToday: 'steps today',
      distance: 'Distance',
      time: 'Time',
      weeklyActivity: 'Weekly Activity',
      recentActivities: 'Recent Activities',
      viewAll: 'View All',
      addActivity: 'Add Activity',
      setGoal: 'Set Goal',
      history: 'History',
    },
    weight: {
      description: 'Monitor your weight progress',
      currentWeight: 'Current Weight',
      noChange: 'No change',
      left: 'Left',
      enterWeight: 'Enter weight',
      add: 'Add',
      progressChart: 'Progress Chart',
      weightHistory: 'Weight History',
      noWeightEntries: 'No weight entries yet',
      invalidWeight: 'Invalid weight',
      enterValidNumber: 'Please enter a valid number',
      weightAdded: 'Weight added',
      added: 'Added',
      toRecords: 'to your records',
    },
    sleep: {
      description: 'Monitor your sleep patterns',
      lastNightSleep: "Last Night's Sleep",
      duration: 'Duration',
      quality: 'Quality',
      bedtime: 'Bedtime',
      wakeUp: 'Wake up',
      weeklyOverview: 'Weekly Overview',
      statistics: 'Sleep Statistics',
      averageDuration: 'Average Sleep Duration',
      averageQuality: 'Average Sleep Quality',
      totalEntries: 'Total Entries',
      bestSleepDay: 'Best Sleep Day',
      logTonightSleep: "Log Tonight's Sleep",
      date: 'Date',
      sleepDuration: 'Sleep Duration (hours)',
      sleepQuality: 'Sleep Quality (1-10)',
      poor: 'Poor',
      average: 'Average',
      excellent: 'Excellent',
      wakeTime: 'Wake Time',
      saveSleepData: 'Save Sleep Data',
      dataSaved: 'Sleep data saved successfully!',
      hrs: 'hrs',
      na: 'N/A',
    },
    statistics: {
      title: 'Statistics',
      description: 'Your complete health journey overview',
      week: 'Week',
      month: 'Month',
      year: 'Year',
      totalActivities: 'Total Activities',
      allTime: 'All time',
      waterIntake: 'Water Intake',
      thisWeek: 'This week',
      avgSleep: 'Avg Sleep',
      perNight: 'Per night',
      weightChange: 'Weight Change',
      total: 'Total',
      weeklyActivityTrends: 'Weekly Activity Trends',
      stepsAndCalories: 'Steps and calories burned this week',
      activityDistribution: 'Activity Distribution',
      favoriteActivities: 'Your favorite activities',
      waterIntakeTrends: 'Water Intake Trends',
      dailyWaterConsumption: 'Daily water consumption this week',
      sleepPatterns: 'Sleep Patterns',
      sleepDurationQuality: 'Sleep duration and quality over time',
      qualityScale: 'Quality (1-10)',
      weightProgress: 'Weight Progress',
      weightJourney: 'Your weight journey over time',
      walking: 'Walking',
      running: 'Running',
      cycling: 'Cycling',
      swimming: 'Swimming',
    },
  },
  uk: {
    common: {
      loading: 'Ð—Ð°Ð²Ð°Ð½Ñ‚Ð°Ð¶ÐµÐ½Ð½Ñ...',
      save: 'Ð—Ð±ÐµÑ€ÐµÐ³Ñ‚Ð¸',
      cancel: 'Ð¡ÐºÐ°ÑÑƒÐ²Ð°Ñ‚Ð¸',
      edit: 'Ð ÐµÐ´Ð°Ð³ÑƒÐ²Ð°Ñ‚Ð¸',
      delete: 'Ð’Ð¸Ð´Ð°Ð»Ð¸Ñ‚Ð¸',
      confirm: 'ÐŸÑ–Ð´Ñ‚Ð²ÐµÑ€Ð´Ð¸Ñ‚Ð¸',
      back: 'ÐÐ°Ð·Ð°Ð´',
      next: 'Ð”Ð°Ð»Ñ–',
      close: 'Ð—Ð°ÐºÑ€Ð¸Ñ‚Ð¸',
      submit: 'ÐÐ°Ð´Ñ–ÑÐ»Ð°Ñ‚Ð¸',
    },
    auth: {
      signIn: 'Ð£Ð²Ñ–Ð¹Ñ‚Ð¸',
      signUp: 'Ð—Ð°Ñ€ÐµÑ”ÑÑ‚Ñ€ÑƒÐ²Ð°Ñ‚Ð¸ÑÑ',
      signOut: 'Ð’Ð¸Ð¹Ñ‚Ð¸',
      email: 'Ð•Ð»ÐµÐºÑ‚Ñ€Ð¾Ð½Ð½Ð° Ð¿Ð¾ÑˆÑ‚Ð°',
      password: 'ÐŸÐ°Ñ€Ð¾Ð»ÑŒ',
      confirmPassword: 'ÐŸÑ–Ð´Ñ‚Ð²ÐµÑ€Ð´Ð¸Ñ‚Ð¸ Ð¿Ð°Ñ€Ð¾Ð»ÑŒ',
      username: "Ð†Ð¼'Ñ ÐºÐ¾Ñ€Ð¸ÑÑ‚ÑƒÐ²Ð°Ñ‡Ð°",
      forgotPassword: 'Ð—Ð°Ð±ÑƒÐ»Ð¸ Ð¿Ð°Ñ€Ð¾Ð»ÑŒ?',
      resetPassword: 'Ð¡ÐºÐ¸Ð½ÑƒÑ‚Ð¸ Ð¿Ð°Ñ€Ð¾Ð»ÑŒ',
      createAccount: 'Ð¡Ñ‚Ð²Ð¾Ñ€Ð¸Ñ‚Ð¸ Ð°ÐºÐ°ÑƒÐ½Ñ‚',
      alreadyHaveAccount: 'Ð’Ð¶Ðµ Ñ” Ð°ÐºÐ°ÑƒÐ½Ñ‚?',
      dontHaveAccount: 'ÐÐµÐ¼Ð°Ñ” Ð°ÐºÐ°ÑƒÐ½Ñ‚Ñƒ?',
    },
    dashboard: {
      hello: 'ÐŸÑ€Ð¸Ð²Ñ–Ñ‚',
      todaysActivity: 'Ð¡ÑŒÐ¾Ð³Ð¾Ð´Ð½Ñ–ÑˆÐ½Ñ Ð°ÐºÑ‚Ð¸Ð²Ð½Ñ–ÑÑ‚ÑŒ',
      dailyGoal: 'Ð”ÐµÐ½Ð½Ð° Ñ†Ñ–Ð»ÑŒ',
      steps: 'ÐšÑ€Ð¾ÐºÐ¸',
      water: 'Ð’Ð¾Ð´Ð°',
      sleep: 'Ð¡Ð¾Ð½',
      weight: 'Ð’Ð°Ð³Ð°',
      calories: 'ÐšÐ°Ð»Ð¾Ñ€Ñ–Ñ—',
      liters: 'Ð»Ñ–Ñ‚Ñ€Ñ–Ð²',
      hours: 'Ð³Ð¾Ð´Ð¸Ð½',
      current: 'ÐŸÐ¾Ñ‚Ð¾Ñ‡Ð½Ð°',
      goal: 'Ð¦Ñ–Ð»ÑŒ',
      trackWeight: 'Ð’Ñ–Ð´ÑÑ‚ÐµÐ¶Ð¸Ñ‚Ð¸ Ð²Ð°Ð³Ñƒ',
      todaysTips: 'ÐŸÐ¾Ñ€Ð°Ð´Ð¸ Ð´Ð½Ñ',
    },
    profile: {
      yourProfile: 'Ð’Ð°Ñˆ Ð¿Ñ€Ð¾Ñ„Ñ–Ð»ÑŒ',
      manageInfo: 'ÐšÐµÑ€ÑƒÐ¹Ñ‚Ðµ ÑÐ²Ð¾Ñ”ÑŽ Ð¾ÑÐ¾Ð±Ð¸ÑÑ‚Ð¾ÑŽ Ñ–Ð½Ñ„Ð¾Ñ€Ð¼Ð°Ñ†Ñ–Ñ”ÑŽ',
      editProfile: 'Ð ÐµÐ´Ð°Ð³ÑƒÐ²Ð°Ñ‚Ð¸ Ð¿Ñ€Ð¾Ñ„Ñ–Ð»ÑŒ',
      saveChanges: 'Ð—Ð±ÐµÑ€ÐµÐ³Ñ‚Ð¸ Ð·Ð¼Ñ–Ð½Ð¸',
      name: "Ð†Ð¼'Ñ",
      height: 'Ð—Ñ€Ñ–ÑÑ‚',
      age: 'Ð’Ñ–Ðº',
      gender: 'Ð¡Ñ‚Ð°Ñ‚ÑŒ',
      healthGoals: 'Ð¦Ñ–Ð»Ñ– Ð·Ð´Ð¾Ñ€Ð¾Ð²\'Ñ',
      goalWeight: 'Ð¦Ñ–Ð»ÑŒÐ¾Ð²Ð° Ð²Ð°Ð³Ð°',
      goalSleep: 'Ð¦Ñ–Ð»ÑŒÐ¾Ð²Ð¸Ð¹ ÑÐ¾Ð½',
      goalSteps: 'Ð¦Ñ–Ð»ÑŒÐ¾Ð²Ñ– ÐºÑ€Ð¾ÐºÐ¸',
      goalWater: 'Ð¦Ñ–Ð»ÑŒÐ¾Ð²Ð° Ð²Ð¾Ð´Ð°',
      notSet: 'ÐÐµ Ð²ÑÑ‚Ð°Ð½Ð¾Ð²Ð»ÐµÐ½Ð¾',
      targetWeight: 'Ð¦Ñ–Ð»ÑŒÐ¾Ð²Ð° Ð²Ð°Ð³Ð°',
      targetSleep: 'Ð¦Ñ–Ð»ÑŒÐ¾Ð²Ð¸Ð¹ ÑÐ¾Ð½',
      dailyStepsTarget: 'Ð”ÐµÐ½Ð½Ð° Ñ†Ñ–Ð»ÑŒ ÐºÑ€Ð¾ÐºÑ–Ð²',
      dailyWaterTarget: 'Ð”ÐµÐ½Ð½Ð° Ñ†Ñ–Ð»ÑŒ Ð²Ð¾Ð´Ð¸',
      resetStatistics: 'Ð¡ÐºÐ¸Ð½ÑƒÑ‚Ð¸ Ð²ÑÑŽ ÑÑ‚Ð°Ñ‚Ð¸ÑÑ‚Ð¸ÐºÑƒ',
    },
    navigation: {
      home: 'Ð“Ð¾Ð»Ð¾Ð²Ð½Ð°',
      activity: 'ÐÐºÑ‚Ð¸Ð²Ð½Ñ–ÑÑ‚ÑŒ',
      water: 'Ð’Ð¾Ð´Ð°',
      sleep: 'Ð¡Ð¾Ð½',
      weight: 'Ð’Ð°Ð³Ð°',
      profile: 'ÐŸÑ€Ð¾Ñ„Ñ–Ð»ÑŒ',
    },
    settings: {
      settings: 'ÐÐ°Ð»Ð°ÑˆÑ‚ÑƒÐ²Ð°Ð½Ð½Ñ',
      language: 'ÐœÐ¾Ð²Ð°',
      theme: 'Ð¢ÐµÐ¼Ð°',
      light: 'Ð¡Ð²Ñ–Ñ‚Ð»Ð°',
      dark: 'Ð¢ÐµÐ¼Ð½Ð°',
      system: 'Ð¡Ð¸ÑÑ‚ÐµÐ¼Ð½Ð°',
      contactDeveloper: 'Ð—Ð²\'ÑÐ·Ð°Ñ‚Ð¸ÑÑ Ð· Ñ€Ð¾Ð·Ñ€Ð¾Ð±Ð½Ð¸ÐºÐ¾Ð¼',
      feedback: 'Ð—Ð²Ð¾Ñ€Ð¾Ñ‚Ð½Ð¸Ð¹ Ð·Ð²\'ÑÐ·Ð¾Ðº',
    },
    feedback: {
      description: 'ÐŸÐ¾Ð´Ñ–Ð»Ñ–Ñ‚ÑŒÑÑ ÑÐ²Ð¾Ñ—Ð¼Ð¸ Ð´ÑƒÐ¼ÐºÐ°Ð¼Ð¸ Ñ‚Ð° Ð¿Ñ€Ð¾Ð¿Ð¾Ð·Ð¸Ñ†Ñ–ÑÐ¼Ð¸',
      subject: 'Ð¢ÐµÐ¼Ð°',
      message: 'ÐŸÐ¾Ð²Ñ–Ð´Ð¾Ð¼Ð»ÐµÐ½Ð½Ñ',
      sent: 'Ð—Ð²Ð¾Ñ€Ð¾Ñ‚Ð½Ð¸Ð¹ Ð·Ð²\'ÑÐ·Ð¾Ðº ÑƒÑÐ¿Ñ–ÑˆÐ½Ð¾ Ð½Ð°Ð´Ñ–ÑÐ»Ð°Ð½Ð¾!',
      error: 'ÐÐµ Ð²Ð´Ð°Ð»Ð¾ÑÑ Ð½Ð°Ð´Ñ–ÑÐ»Ð°Ñ‚Ð¸ Ð·Ð²Ð¾Ñ€Ð¾Ñ‚Ð½Ð¸Ð¹ Ð·Ð²\'ÑÐ·Ð¾Ðº. Ð¡Ð¿Ñ€Ð¾Ð±ÑƒÐ¹Ñ‚Ðµ Ñ‰Ðµ Ñ€Ð°Ð·.',
    },
    water: {
      trackHydration: "Ð’Ñ–Ð´ÑÑ‚ÐµÐ¶ÑƒÐ¹Ñ‚Ðµ ÑÐ²Ð¾ÑŽ Ð³Ñ–Ð´Ñ€Ð°Ñ‚Ð°Ñ†Ñ–ÑŽ",
      todaysLog: "Ð–ÑƒÑ€Ð½Ð°Ð» Ð½Ð° ÑÑŒÐ¾Ð³Ð¾Ð´Ð½Ñ–",
      noWaterLogged: "Ð¡ÑŒÐ¾Ð³Ð¾Ð´Ð½Ñ– Ñ‰Ðµ Ð½Ðµ Ð·Ð°Ñ„Ñ–ÐºÑÐ¾Ð²Ð°Ð½Ð¾ ÑÐ¿Ð¾Ð¶Ð¸Ð²Ð°Ð½Ð½Ñ Ð²Ð¾Ð´Ð¸",
      weeklyOverview: "ÐžÐ³Ð»ÑÐ´ Ñ‚Ð¸Ð¶Ð½Ñ",
      setReminder: "Ð’ÑÑ‚Ð°Ð½Ð¾Ð²Ð¸Ñ‚Ð¸ Ð½Ð°Ð³Ð°Ð´ÑƒÐ²Ð°Ð½Ð½Ñ",
      waterReminder: "ÐÐ°Ð³Ð°Ð´ÑƒÐ²Ð°Ð½Ð½Ñ Ð¿Ñ€Ð¾ Ð²Ð¾Ð´Ñƒ",
      reminderDescription: "Ð’ÑÑ‚Ð°Ð½Ð¾Ð²Ñ–Ñ‚ÑŒ Ñ€ÐµÐ³ÑƒÐ»ÑÑ€Ð½Ñ– Ð½Ð°Ð³Ð°Ð´ÑƒÐ²Ð°Ð½Ð½Ñ Ð¿Ñ€Ð¾ Ð½ÐµÐ¾Ð±Ñ…Ñ–Ð´Ð½Ñ–ÑÑ‚ÑŒ Ð¿Ð¸Ñ‚Ð¸ Ð²Ð¾Ð´Ñƒ",
      reminderInterval: "Ð†Ð½Ñ‚ÐµÑ€Ð²Ð°Ð» Ð½Ð°Ð³Ð°Ð´ÑƒÐ²Ð°Ð½Ð½Ñ (Ñ…Ð²Ð¸Ð»Ð¸Ð½Ð¸)",
      reminderMinimum: "ÐœÑ–Ð½Ñ–Ð¼ÑƒÐ¼ 15 Ñ…Ð²Ð¸Ð»Ð¸Ð½",
      quickSelect: "Ð¨Ð²Ð¸Ð´ÐºÐ¸Ð¹ Ð²Ð¸Ð±Ñ–Ñ€",
      minutes: "Ñ…Ð²",
      reminderError: "ÐŸÐ¾Ð¼Ð¸Ð»ÐºÐ° Ð½Ð°Ð³Ð°Ð´ÑƒÐ²Ð°Ð½Ð½Ñ",
      reminderMinInterval: "ÐœÑ–Ð½Ñ–Ð¼Ð°Ð»ÑŒÐ½Ð¸Ð¹ Ñ–Ð½Ñ‚ÐµÑ€Ð²Ð°Ð» Ð½Ð°Ð³Ð°Ð´ÑƒÐ²Ð°Ð½Ð½Ñ - 15 Ñ…Ð²Ð¸Ð»Ð¸Ð½",
      reminderSet: "ÐÐ°Ð³Ð°Ð´ÑƒÐ²Ð°Ð½Ð½Ñ Ð²ÑÑ‚Ð°Ð½Ð¾Ð²Ð»ÐµÐ½Ð¾",
      reminderSetDescription: "Ð’Ð¸ Ð¾Ñ‚Ñ€Ð¸Ð¼ÑƒÐ²Ð°Ñ‚Ð¸Ð¼ÐµÑ‚Ðµ Ð½Ð°Ð³Ð°Ð´ÑƒÐ²Ð°Ð½Ð½Ñ ÐºÐ¾Ð¶Ð½Ñ– {minutes} Ñ…Ð²Ð¸Ð»Ð¸Ð½",
      reminders: "ÐÐ°Ð³Ð°Ð´ÑƒÐ²Ð°Ð½Ð½Ñ",
      reminderActive: "ÐÐ°Ð³Ð°Ð´ÑƒÐ²Ð°Ð½Ð½Ñ Ð°ÐºÑ‚Ð¸Ð²Ð½Ðµ",
      noReminder: "ÐÐ°Ð³Ð°Ð´ÑƒÐ²Ð°Ð½Ð½Ñ Ð½Ðµ Ð²ÑÑ‚Ð°Ð½Ð¾Ð²Ð»ÐµÐ½Ð¾",
      stopReminder: "Ð—ÑƒÐ¿Ð¸Ð½Ð¸Ñ‚Ð¸",
      reminderNotificationTitle: "Ð§Ð°Ñ Ð¿Ð¸Ñ‚Ð¸ Ð²Ð¾Ð´Ñƒ! ðŸ’§",
      reminderNotificationBody: "ÐÐµ Ð·Ð°Ð±ÑƒÐ²Ð°Ð¹Ñ‚Ðµ Ð¿Ñ–Ð´Ñ‚Ñ€Ð¸Ð¼ÑƒÐ²Ð°Ñ‚Ð¸ Ð³Ñ–Ð´Ñ€Ð°Ñ‚Ð°Ñ†Ñ–ÑŽ Ð¿Ñ€Ð¾Ñ‚ÑÐ³Ð¾Ð¼ Ð´Ð½Ñ"
    },
    activity: {
      description: 'Ð’Ñ–Ð´ÑÑ‚ÐµÐ¶ÑƒÐ¹Ñ‚Ðµ ÑÐ²Ð¾ÑŽ Ñ‰Ð¾Ð´ÐµÐ½Ð½Ñƒ Ð°ÐºÑ‚Ð¸Ð²Ð½Ñ–ÑÑ‚ÑŒ Ñ– Ð²Ð¿Ñ€Ð°Ð²Ð¸',
      startWorkout: 'ÐŸÐ¾Ñ‡Ð°Ñ‚Ð¸ Ñ‚Ñ€ÐµÐ½ÑƒÐ²Ð°Ð½Ð½Ñ',
      recentActivity: 'ÐÐµÐ´Ð°Ð²Ð½Ñ Ð°ÐºÑ‚Ð¸Ð²Ð½Ñ–ÑÑ‚ÑŒ',
      quickStart: 'Ð¨Ð²Ð¸Ð´ÐºÐ¸Ð¹ ÑÑ‚Ð°Ñ€Ñ‚',
      walking: 'Ð¥Ð¾Ð´ÑŒÐ±Ð°',
      running: 'Ð‘Ñ–Ð³',
      cycling: 'Ð’ÐµÐ»Ð¾ÑÐ¸Ð¿ÐµÐ´',
      hiking: 'ÐŸÐ¾Ñ…Ð¾Ð´Ð¸',
      swimming: 'ÐŸÐ»Ð°Ð²Ð°Ð½Ð½Ñ',
      gym: 'Ð¡Ð¿Ð¾Ñ€Ñ‚Ð·Ð°Ð»',
      startTracking: 'ÐŸÐ¾Ñ‡Ð°Ñ‚Ð¸ Ð²Ñ–Ð´ÑÑ‚ÐµÐ¶ÐµÐ½Ð½Ñ',
      stopTracking: 'Ð—ÑƒÐ¿Ð¸Ð½Ð¸Ñ‚Ð¸ Ð²Ñ–Ð´ÑÑ‚ÐµÐ¶ÐµÐ½Ð½Ñ',
      todaysProgress: 'ÐŸÑ€Ð¾Ð³Ñ€ÐµÑ ÑÑŒÐ¾Ð³Ð¾Ð´Ð½Ñ–',
      goal: 'Ð¦Ñ–Ð»ÑŒ',
      stepsToday: 'ÐºÑ€Ð¾ÐºÑ–Ð² ÑÑŒÐ¾Ð³Ð¾Ð´Ð½Ñ–',
      distance: 'Ð’Ñ–Ð´ÑÑ‚Ð°Ð½ÑŒ',
      time: 'Ð§Ð°Ñ',
      weeklyActivity: 'Ð¢Ð¸Ð¶Ð½ÐµÐ²Ð° Ð°ÐºÑ‚Ð¸Ð²Ð½Ñ–ÑÑ‚ÑŒ',
      recentActivities: 'ÐÐµÐ´Ð°Ð²Ð½Ñ– Ð°ÐºÑ‚Ð¸Ð²Ð½Ð¾ÑÑ‚Ñ–',
      viewAll: 'ÐŸÐµÑ€ÐµÐ³Ð»ÑÐ½ÑƒÑ‚Ð¸ Ð²ÑÐµ',
      addActivity: 'Ð”Ð¾Ð´Ð°Ñ‚Ð¸ Ð°ÐºÑ‚Ð¸Ð²Ð½Ñ–ÑÑ‚ÑŒ',
      setGoal: 'Ð’ÑÑ‚Ð°Ð½Ð¾Ð²Ð¸Ñ‚Ð¸ Ñ†Ñ–Ð»ÑŒ',
      history: 'Ð†ÑÑ‚Ð¾Ñ€Ñ–Ñ',
    },
    weight: {
      description: 'Ð’Ñ–Ð´ÑÑ‚ÐµÐ¶ÑƒÐ¹Ñ‚Ðµ Ð¿Ñ€Ð¾Ð³Ñ€ÐµÑ ÑÐ²Ð¾Ñ”Ñ— Ð²Ð°Ð³Ð¸',
      currentWeight: 'ÐŸÐ¾Ñ‚Ð¾Ñ‡Ð½Ð° Ð²Ð°Ð³Ð°',
      noChange: 'Ð‘ÐµÐ· Ð·Ð¼Ñ–Ð½',
      left: 'Ð—Ð°Ð»Ð¸ÑˆÐ¸Ð»Ð¾ÑÑŒ',
      enterWeight: 'Ð’Ð²ÐµÐ´Ñ–Ñ‚ÑŒ Ð²Ð°Ð³Ñƒ',
      add: 'Ð”Ð¾Ð´Ð°Ñ‚Ð¸',
      progressChart: 'Ð“Ñ€Ð°Ñ„Ñ–Ðº Ð¿Ñ€Ð¾Ð³Ñ€ÐµÑÑƒ',
      weightHistory: 'Ð†ÑÑ‚Ð¾Ñ€Ñ–Ñ Ð²Ð°Ð³Ð¸',
      noWeightEntries: 'Ð©Ðµ Ð½ÐµÐ¼Ð°Ñ” Ð·Ð°Ð¿Ð¸ÑÑ–Ð² Ð²Ð°Ð³Ð¸',
      invalidWeight: 'ÐÐµÐ¿Ñ€Ð°Ð²Ð¸Ð»ÑŒÐ½Ð° Ð²Ð°Ð³Ð°',
      enterValidNumber: 'Ð‘ÑƒÐ´ÑŒ Ð»Ð°ÑÐºÐ°, Ð²Ð²ÐµÐ´Ñ–Ñ‚ÑŒ Ð¿Ñ€Ð°Ð²Ð¸Ð»ÑŒÐ½Ðµ Ñ‡Ð¸ÑÐ»Ð¾',
      weightAdded: 'Ð’Ð°Ð³Ð° Ð´Ð¾Ð´Ð°Ð½Ð°',
      added: 'Ð”Ð¾Ð´Ð°Ð½Ð¾',
      toRecords: 'Ð´Ð¾ Ð²Ð°ÑˆÐ¸Ñ… Ð·Ð°Ð¿Ð¸ÑÑ–Ð²',
    },
    sleep: {
      description: 'Ð’Ñ–Ð´ÑÑ‚ÐµÐ¶ÑƒÐ¹Ñ‚Ðµ ÑÐ²Ð¾Ñ— Ð¾ÑÐ¾Ð±Ð»Ð¸Ð²Ð¾ÑÑ‚Ñ– ÑÐ½Ñƒ',
      lastNightSleep: 'ÐœÐ¸Ð½ÑƒÐ»Ð¾Ð½Ñ–Ñ‡Ð½Ð¸Ð¹ ÑÐ¾Ð½',
      duration: 'Ð¢Ñ€Ð¸Ð²Ð°Ð»Ñ–ÑÑ‚ÑŒ',
      quality: 'Ð¯ÐºÑ–ÑÑ‚ÑŒ',
      bedtime: 'Ð§Ð°Ñ ÑÐ½Ñƒ',
      wakeUp: 'ÐŸÑ€Ð¾Ð±ÑƒÐ´Ð¶ÐµÐ½Ð½Ñ',
      weeklyOverview: 'Ð¢Ð¸Ð¶Ð½ÐµÐ²Ð¸Ð¹ Ð¾Ð³Ð»ÑÐ´',
      statistics: 'Ð¡Ñ‚Ð°Ñ‚Ð¸ÑÑ‚Ð¸ÐºÐ° ÑÐ½Ñƒ',
      averageDuration: 'Ð¡ÐµÑ€ÐµÐ´Ð½Ñ Ñ‚Ñ€Ð¸Ð²Ð°Ð»Ñ–ÑÑ‚ÑŒ ÑÐ½Ñƒ',
      averageQuality: 'Ð¡ÐµÑ€ÐµÐ´Ð½Ñ ÑÐºÑ–ÑÑ‚ÑŒ ÑÐ½Ñƒ',
      totalEntries: 'Ð’ÑÑŒÐ¾Ð³Ð¾ Ð·Ð°Ð¿Ð¸ÑÑ–Ð²',
      bestSleepDay: 'ÐÐ°Ð¹ÐºÑ€Ð°Ñ‰Ð¸Ð¹ Ð´ÐµÐ½ÑŒ ÑÐ½Ñƒ',
      logTonightSleep: 'Ð—Ð°Ð¿Ð¸ÑÐ°Ñ‚Ð¸ ÑÑŒÐ¾Ð³Ð¾Ð´Ð½Ñ–ÑˆÐ½Ñ–Ð¹ ÑÐ¾Ð½',
      date: 'Ð”Ð°Ñ‚Ð°',
      sleepDuration: 'Ð¢Ñ€Ð¸Ð²Ð°Ð»Ñ–ÑÑ‚ÑŒ ÑÐ½Ñƒ (Ð³Ð¾Ð´Ð¸Ð½Ð¸)',
      sleepQuality: 'Ð¯ÐºÑ–ÑÑ‚ÑŒ ÑÐ½Ñƒ (1-10)',
      poor: 'ÐŸÐ¾Ð³Ð°Ð½Ð°',
      average: 'Ð¡ÐµÑ€ÐµÐ´Ð½Ñ',
      excellent: 'Ð’Ñ–Ð´Ð¼Ñ–Ð½Ð½Ð°',
      wakeTime: 'Ð§Ð°Ñ Ð¿Ñ€Ð¾Ð±ÑƒÐ´Ð¶ÐµÐ½Ð½Ñ',
      saveSleepData: 'Ð—Ð±ÐµÑ€ÐµÐ³Ñ‚Ð¸ Ð´Ð°Ð½Ñ– ÑÐ½Ñƒ',
      dataSaved: 'Ð”Ð°Ð½Ñ– ÑÐ½Ñƒ ÑƒÑÐ¿Ñ–ÑˆÐ½Ð¾ Ð·Ð±ÐµÑ€ÐµÐ¶ÐµÐ½Ð¾!',
      hrs: 'Ð³Ð¾Ð´',
      na: 'Ð/Ð”',
    },
    statistics: {
      title: 'Ð¡Ñ‚Ð°Ñ‚Ð¸ÑÑ‚Ð¸ÐºÐ°',
      description: 'ÐŸÐ¾Ð²Ð½Ð¸Ð¹ Ð¾Ð³Ð»ÑÐ´ Ð²Ð°ÑˆÐ¾Ñ— Ð¿Ð¾Ð´Ð¾Ñ€Ð¾Ð¶Ñ– Ð·Ð´Ð¾Ñ€Ð¾Ð²\'Ñ',
      week: 'Ð¢Ð¸Ð¶Ð´ÐµÐ½ÑŒ',
      month: 'ÐœÑ–ÑÑÑ†ÑŒ',
      year: 'Ð Ñ–Ðº',
      totalActivities: 'Ð’ÑÑŒÐ¾Ð³Ð¾ Ð°ÐºÑ‚Ð¸Ð²Ð½Ð¾ÑÑ‚ÐµÐ¹',
      allTime: 'Ð—Ð° Ð²ÐµÑÑŒ Ñ‡Ð°Ñ',
      waterIntake: 'Ð¡Ð¿Ð¾Ð¶Ð¸Ð²Ð°Ð½Ð½Ñ Ð²Ð¾Ð´Ð¸',
      thisWeek: 'Ð¦ÑŒÐ¾Ð³Ð¾ Ñ‚Ð¸Ð¶Ð½Ñ',
      avgSleep: 'Ð¡ÐµÑ€ÐµÐ´Ð½Ñ–Ð¹ ÑÐ¾Ð½',
      perNight: 'Ð—Ð° Ð½Ñ–Ñ‡',
      weightChange: 'Ð—Ð¼Ñ–Ð½Ð° Ð²Ð°Ð³Ð¸',
      total: 'Ð—Ð°Ð³Ð°Ð»Ð¾Ð¼',
      weeklyActivityTrends: 'Ð¢Ð¸Ð¶Ð½ÐµÐ²Ñ– Ñ‚ÐµÐ½Ð´ÐµÐ½Ñ†Ñ–Ñ— Ð°ÐºÑ‚Ð¸Ð²Ð½Ð¾ÑÑ‚Ñ–',
      stepsAndCalories: 'ÐšÑ€Ð¾ÐºÐ¸ Ñ‚Ð° ÐºÐ°Ð»Ð¾Ñ€Ñ–Ñ— ÑÐ¿Ð°Ð»ÐµÐ½Ñ– Ñ†ÑŒÐ¾Ð³Ð¾ Ñ‚Ð¸Ð¶Ð½Ñ',
      activityDistribution: 'Ð Ð¾Ð·Ð¿Ð¾Ð´Ñ–Ð» Ð°ÐºÑ‚Ð¸Ð²Ð½Ð¾ÑÑ‚Ñ–',
      favoriteActivities: 'Ð’Ð°ÑˆÑ– ÑƒÐ»ÑŽÐ±Ð»ÐµÐ½Ñ– Ð°ÐºÑ‚Ð¸Ð²Ð½Ð¾ÑÑ‚Ñ–',
      waterIntakeTrends: 'Ð¢ÐµÐ½Ð´ÐµÐ½Ñ†Ñ–Ñ— ÑÐ¿Ð¾Ð¶Ð¸Ð²Ð°Ð½Ð½Ñ Ð²Ð¾Ð´Ð¸',
      dailyWaterConsumption: 'Ð©Ð¾Ð´ÐµÐ½Ð½Ðµ ÑÐ¿Ð¾Ð¶Ð¸Ð²Ð°Ð½Ð½Ñ Ð²Ð¾Ð´Ð¸ Ñ†ÑŒÐ¾Ð³Ð¾ Ñ‚Ð¸Ð¶Ð½Ñ',
      sleepPatterns: 'ÐžÑÐ¾Ð±Ð»Ð¸Ð²Ð¾ÑÑ‚Ñ– ÑÐ½Ñƒ',
      sleepDurationQuality: 'Ð¢Ñ€Ð¸Ð²Ð°Ð»Ñ–ÑÑ‚ÑŒ Ñ– ÑÐºÑ–ÑÑ‚ÑŒ ÑÐ½Ñƒ Ð· Ñ‡Ð°ÑÐ¾Ð¼',
      qualityScale: 'Ð¯ÐºÑ–ÑÑ‚ÑŒ (1-10)',
      weightProgress: 'ÐŸÑ€Ð¾Ð³Ñ€ÐµÑ Ð²Ð°Ð³Ð¸',
      weightJourney: 'Ð’Ð°ÑˆÐ° Ð¿Ð¾Ð´Ð¾Ñ€Ð¾Ð¶ Ð²Ð°Ð³Ð¸ Ð· Ñ‡Ð°ÑÐ¾Ð¼',
      walking: 'Ð¥Ð¾Ð´ÑŒÐ±Ð°',
      running: 'Ð‘Ñ–Ð³',
      cycling: 'Ð’ÐµÐ»Ð¾ÑÐ¸Ð¿ÐµÐ´',
      swimming: 'ÐŸÐ»Ð°Ð²Ð°Ð½Ð½Ñ',
    },
  },
};

export const LanguageProvider = ({ children }: { children: React.ReactNode }) => {
  const [language, setLanguage] = useState<Language>(() => {
    const saved = localStorage.getItem('healthtrack-language');
    return (saved as Language) || 'en';
  });

  useEffect(() => {
    localStorage.setItem('healthtrack-language', language);
  }, [language]);

  const t = (key: string): string => {
    const keys = key.split('.');
    let current: any = translations[language];
    
    for (const k of keys) {
      if (current && typeof current === 'object' && k in current) {
        current = current[k];
      } else {
        // Fallback to English if translation not found
        current = translations.en;
        for (const fallbackKey of keys) {
          if (current && typeof current === 'object' && fallbackKey in current) {
            current = current[fallbackKey];
          } else {
            return key; // Return key if no translation found
          }
        }
        break;
      }
    }
    
    return typeof current === 'string' ? current : key;
  };

  const value = {
    language,
    setLanguage,
    t,
  };

  return <LanguageContext.Provider value={value}>{children}</LanguageContext.Provider>;
};
